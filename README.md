# StayAlive API

## Documentation

To access to the Swagger UI for route definition please use the following paths:
- Rescuer: http://localhost:3000/swagger/rescuer
- Call center: http://localhost:3000/swagger/call-center
- Admin: http://localhost:3000/swagger/admin

To access to the AsyncAPI UI for Socket.io definition please use the following path:
- [AsyncAPI](https://studio.asyncapi.com/?base64=YXN5bmNhcGk6ICIzLjAuMCIKaW5mbzoKICB0aXRsZTogU3RheUFsaXZlIFdlYlNvY2tldCAoU29ja2V0LmlvKSBBUEkgRG9jdW1lbnRhdGlvbgogIHZlcnNpb246IDEuMC4wCiAgZGVzY3JpcHRpb246ID4KICAgIFdlYlNvY2tldHMgQVBJIG9mZmVycyByZWFsLXRpbWUgZGF0YSB1cGRhdGVzLiBXZWJTb2NrZXRzIGlzIGEgYmlkaXJlY3Rpb25hbAogICAgcHJvdG9jb2wgb2ZmZXJpbmcgZmFzdGVzdCByZWFsLXRpbWUgZGF0YSwgaGVscGluZyB5b3UgYnVpbGQgcmVhbC10aW1lCiAgICBhcHBsaWNhdGlvbnMuCgoKICAgICMjIyBHZW5lcmFsIENvbnNpZGVyYXRpb25zCgoKICAgIC0gQWxsIG1lc3NhZ2VzIHNlbnQgYW5kIHJlY2VpdmVkIHZpYSBXZWJTb2NrZXRzIGFyZSBlbmNvZGVkIGluIEpTT04gZm9ybWF0LgogICAgCiAgICAtIEFsbCBtZXNzYWdlIGFyZSBzZW50IGluIHRoZSBzb2NrZXQuaW8gY2hhbm5lbCBuYW1lOiBtZXNzYWdlLgpkZWZhdWx0Q29udGVudFR5cGU6IGFwcGxpY2F0aW9uL2pzb24Kc2VydmVyczoKICBzdGF5YWxpdmU6CiAgICBob3N0OiBhcGkuc3RheWFsaXZlLmZyCiAgICBwcm90b2NvbDogc29ja2V0aW8KICAgIGRlc2NyaXB0aW9uOiB8CiAgICAgIFRoZSBBcGkgb2YgQ2FsbCBDZW50ZXIgdG8gcmVjZWl2ZSBldmVudHMgZnJvbSB0aGUgcGxhdGZvcm0uCmNoYW5uZWxzOgogICdjYWxsQ2VudGVyJzoKICAgIGFkZHJlc3M6IC9jYWxsLWNlbnRlci93cwogICAgbWVzc2FnZXM6CiAgICAgIHJlY2VpdmUubWVzc2FnZToKICAgICAgICAkcmVmOiAnIy9jb21wb25lbnRzL21lc3NhZ2VzL0NhbGxDZW50ZXJFdmVudCcKICByZXNjdWVyOgogICAgYWRkcmVzczogL3Jlc2N1ZXIvd3MKICAgIG1lc3NhZ2VzOgogICAgICByZWNlaXZlLm1lc3NhZ2U6CiAgICAgICAgJHJlZjogJyMvY29tcG9uZW50cy9tZXNzYWdlcy9SZXNjdWVyRXZlbnQnCm9wZXJhdGlvbnM6CiAgL2NhbGwtY2VudGVyL3dzOgogICAgYWN0aW9uOiByZWNlaXZlCiAgICBjaGFubmVsOgogICAgICAkcmVmOiAnIy9jaGFubmVscy9jYWxsQ2VudGVyJwogICAgc3VtbWFyeTogUGxlYXNlIHVzZSB0aGlzIGNoYW5uZWwgdG8gcmVjZWl2ZSBlbWVyZ2VuY3kgZXZlbnRzIGZvciB5b3VyIGNhbGwgY2VudGVyLgogICAgZGVzY3JpcHRpb246ICJSZWNlaXZlIGVtZXJnZW5jeSBldmVudHMgZm9yIHlvdXIgY2FsbCBjZW50ZXIuIgogICAgbWVzc2FnZXM6CiAgICAgIC0gJHJlZjogJyMvY2hhbm5lbHMvY2FsbENlbnRlci9tZXNzYWdlcy9yZWNlaXZlLm1lc3NhZ2UnCiAgL3Jlc2N1ZXIvd3M6CiAgICBhY3Rpb246IHJlY2VpdmUKICAgIGNoYW5uZWw6CiAgICAgICRyZWY6ICcjL2NoYW5uZWxzL3Jlc2N1ZXInCiAgICBzdW1tYXJ5OiBQbGVhc2UgdXNlIHRoaXMgY2hhbm5lbCB0byByZWNlaXZlIGVtZXJnZW5jeSBldmVudHMgZm9yIHlvdXIgcmVzY3Vlci4KICAgIGRlc2NyaXB0aW9uOiBSZWNlaXZlIGVtZXJnZW5jeSBldmVudHMgZm9yIHlvdXIgcmVzY3Vlci4KICAgIG1lc3NhZ2VzOgogICAgICAtICRyZWY6ICcjL2NoYW5uZWxzL3Jlc2N1ZXIvbWVzc2FnZXMvcmVjZWl2ZS5tZXNzYWdlJwpjb21wb25lbnRzOgogIG1lc3NhZ2VzOgogICAgQ2FsbENlbnRlckV2ZW50OgogICAgICB0aXRsZTogQ2FsbCBDZW50ZXIgRW1lcmdlbmN5IEV2ZW50CiAgICAgIGRlc2NyaXB0aW9uOiB8CiAgICAgICAgVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSBuZXcgZW1lcmdlbmN5IGlzIGNyZWF0ZWQgb3IgdXBkYXRlZC4KICAgICAgcGF5bG9hZDoKICAgICAgICAkcmVmOiAnIy9jb21wb25lbnRzL3NjaGVtYXMvY2FsbENlbnRlckV2ZW50JwogICAgUmVzY3VlckV2ZW50OgogICAgICB0aXRsZTogRW1lcmdlbmN5IEV2ZW50CiAgICAgIGRlc2NyaXB0aW9uOiB8CiAgICAgICAgVGhpcyBldmVudCBpcyBzZW50IHdoZW4gYSBuZXcgZW1lcmdlbmN5IGlzIGNyZWF0ZWQgb3IgdXBkYXRlZC4KICAgICAgcGF5bG9hZDoKICAgICAgICAkcmVmOiAnIy9jb21wb25lbnRzL3NjaGVtYXMvcmVzY3VlckV2ZW50JwogIHNjaGVtYXM6CiAgICBjYWxsQ2VudGVyRXZlbnQ6CiAgICAgIHRpdGxlOiBDYWxsIENlbnRlciBFbWVyZ2VuY3kgRXZlbnQKICAgICAgbmFtZTogZW1lcmdlbmN5CiAgICAgIHR5cGU6IG9iamVjdAogICAgICBwcm9wZXJ0aWVzOgogICAgICAgIGV2ZW50VHlwZToKICAgICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgICAgZGVzY3JpcHRpb246IFR5cGUgb2YgdGhlIGV2ZW50LgogICAgICAgICAgZXhhbXBsZXM6CiAgICAgICAgICAgIC0gQ1JFQVRFRAogICAgICAgICAgZW51bToKICAgICAgICAgICAgLSBDUkVBVEVECiAgICAgICAgICAgIC0gQ0FOQ0VMRUQKICAgICAgICAgICAgLSBBU1NJR05FRAogICAgICAgICAgICAtIFJFRlVTRUQKICAgICAgICAgICAgLSBBU0tfQVNTSUdOCiAgICAgICAgICAgIC0gQVNLX1RJTUVPVVQKICAgICAgICAgICAgLSBURVJNSU5BVEVECiAgICAgICAgZW1lcmdlbmN5OgogICAgICAgICAgdHlwZTogb2JqZWN0CiAgICAgICAgICBkZXNjcmlwdGlvbjogRGV0YWlsZWQgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGVtZXJnZW5jeS4KICAgICAgICAgIHByb3BlcnRpZXM6CiAgICAgICAgICAgIGlkOgogICAgICAgICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGVtZXJnZW5jeS4KICAgICAgICAgICAgICBleGFtcGxlczoKICAgICAgICAgICAgICAgIC0gNWY0ZjVlNmEtOGIwYS00YzlhLTliMGEtNGM5YTliMGE0YzlhCiAgICAgICAgICAgIGluZm86CiAgICAgICAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IEluZm9ybWF0aW9uIGFib3V0IHRoZSBlbWVyZ2VuY3kuCiAgICAgICAgICAgICAgZXhhbXBsZXM6CiAgICAgICAgICAgICAgICAtIEEgcGVyc29uIGhhcyBhIGhlYXJ0IGF0dGFjay4KICAgICAgICAgICAgcG9zaXRpb246CiAgICAgICAgICAgICAgdHlwZTogb2JqZWN0CiAgICAgICAgICAgICAgcHJvcGVydGllczoKICAgICAgICAgICAgICAgIGxhdGl0dWRlOgogICAgICAgICAgICAgICAgICB0eXBlOiBudW1iZXIKICAgICAgICAgICAgICAgICAgZm9ybWF0OiBkb3VibGUKICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IExhdGl0dWRlIG9mIHRoZSBlbWVyZ2VuY3kgbG9jYXRpb24uCiAgICAgICAgICAgICAgICAgIGV4YW1wbGVzOgogICAgICAgICAgICAgICAgICAgIC0gNDAuNzEyNzc2CiAgICAgICAgICAgICAgICBsb25naXR1ZGU6CiAgICAgICAgICAgICAgICAgIHR5cGU6IG51bWJlcgogICAgICAgICAgICAgICAgICBmb3JtYXQ6IGRvdWJsZQogICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogTG9uZ2l0dWRlIG9mIHRoZSBlbWVyZ2VuY3kgbG9jYXRpb24uCiAgICAgICAgICAgICAgICAgIGV4YW1wbGVzOgogICAgICAgICAgICAgICAgICAgIC0gLTc0LjAwNTk3NAogICAgICAgICAgICBzdGF0dXM6CiAgICAgICAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IEN1cnJlbnQgc3RhdHVzIG9mIHRoZSBlbWVyZ2VuY3kuCiAgICAgICAgICAgICAgZXhhbXBsZXM6CiAgICAgICAgICAgICAgICAtIFBFTkRJTkcKICAgICAgICAgICAgICBlbnVtOgogICAgICAgICAgICAgICAgLSBQRU5ESU5HCiAgICAgICAgICAgICAgICAtIEFTU0lHTkVECiAgICAgICAgICAgICAgICAtIFJFU09MVkVECiAgICAgICAgICAgICAgICAtIENBTkNFTEVECiAgICAgICAgY2FsbENlbnRlcjoKICAgICAgICAgIHR5cGU6IG9iamVjdAogICAgICAgICAgZGVzY3JpcHRpb246IEluZm9ybWF0aW9uIGFib3V0IHRoZSBjYWxsIGNlbnRlciBoYW5kbGluZyB0aGUgZXZlbnQuCiAgICAgICAgICBwcm9wZXJ0aWVzOgogICAgICAgICAgICBpZDoKICAgICAgICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogVW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBjYWxsIGNlbnRlci4KICAgICAgICAgICAgICBleGFtcGxlczoKICAgICAgICAgICAgICAgIC0gNWY0ZjVlNmEtOGIwYS00YzlhLTliMGEtNGM5YTliMGE0YzlhCiAgICAgICAgICAgIG5hbWU6CiAgICAgICAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IE5hbWUgb2YgdGhlIGNhbGwgY2VudGVyLgogICAgICAgICAgICAgIGV4YW1wbGVzOgogICAgICAgICAgICAgICAgLSBTQU1VIENlbnRlciBvZiBQYXJpcwogICAgICAgIHJlc2N1ZXJFdmVudDoKICAgICAgICAgIHR5cGU6IG9iamVjdAogICAgICAgICAgbnVsbGFibGU6IHRydWUKICAgICAgICAgIGRlc2NyaXB0aW9uOiBJbmZvcm1hdGlvbiBhYm91dCB0aGUgcmVzY3VlciBhc3NpZ25lZCB0byB0aGUgZXZlbnQsIGlmIGFueS4KICAgICAgICAgIHByb3BlcnRpZXM6CiAgICAgICAgICAgIGlkOgogICAgICAgICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIHJlc2N1ZXIuCiAgICAgICAgICAgICAgZXhhbXBsZXM6CiAgICAgICAgICAgICAgICAtIDVmNGY1ZTZhLThiMGEtNGM5YS05YjBhLTRjOWE5YjBhNGM5YQogICAgICAgICAgICBmaXJzdG5hbWU6CiAgICAgICAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IEZpcnN0IG5hbWUgb2YgdGhlIHJlc2N1ZXIuCiAgICAgICAgICAgICAgZXhhbXBsZXM6CiAgICAgICAgICAgICAgICAtIEpvaG4KICAgICAgICAgICAgbGFzdG5hbWU6CiAgICAgICAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IExhc3QgbmFtZSBvZiB0aGUgcmVzY3Vlci4KICAgICAgICAgICAgICBleGFtcGxlczoKICAgICAgICAgICAgICAgIC0gRG9lCiAgICAgICAgICAgIHBob25lOgogICAgICAgICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBDb250YWN0IHBob25lIG51bWJlciBmb3IgdGhlIHJlc2N1ZXIuCiAgICAgICAgICAgICAgZXhhbXBsZXM6CiAgICAgICAgICAgICAgICAtICcrMTIzNDU2Nzg5MCcKICAgICAgICAgICAgZW1haWw6CiAgICAgICAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAgICAgICAgZm9ybWF0OiBlbWFpbAogICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBFbWFpbCBhZGRyZXNzIG9mIHRoZSByZXNjdWVyLgogICAgICAgICAgICAgIGV4YW1wbGVzOgogICAgICAgICAgICAgICAgLSBqb2huZG9lQGV4YW1wbGUuY29tCiAgICByZXNjdWVyRXZlbnQ6CiAgICAgIHRpdGxlOiBSZXNjdWVyIEVtZXJnZW5jeSBFdmVudAogICAgICBuYW1lOiBlbWVyZ2VuY3kKICAgICAgdHlwZTogb2JqZWN0CiAgICAgIHByb3BlcnRpZXM6CiAgICAgICAgZXZlbnRUeXBlOgogICAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAgICBkZXNjcmlwdGlvbjogVHlwZSBvZiB0aGUgZXZlbnQuCiAgICAgICAgICBleGFtcGxlczoKICAgICAgICAgICAgLSBBU0sKICAgICAgICAgIGVudW06CiAgICAgICAgICAgIC0gQVNLCiAgICAgICAgICAgIC0gVElNRU9VVAogICAgICAgICAgICAtIFRFUk1JTkFURUQKICAgICAgICBlbWVyZ2VuY3k6CiAgICAgICAgICB0eXBlOiBvYmplY3QKICAgICAgICAgIGRlc2NyaXB0aW9uOiBEZXRhaWxlZCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgZW1lcmdlbmN5LgogICAgICAgICAgcHJvcGVydGllczoKICAgICAgICAgICAgaWQ6CiAgICAgICAgICAgICAgdHlwZTogc3RyaW5nCiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IFVuaXF1ZSBpZGVudGlmaWVyIGZvciB0aGUgZW1lcmdlbmN5LgogICAgICAgICAgICAgIGV4YW1wbGVzOgogICAgICAgICAgICAgICAgLSA1ZjRmNWU2YS04YjBhLTRjOWEtOWIwYS00YzlhOWIwYTRjOWEKICAgICAgICAgICAgaW5mbzoKICAgICAgICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogSW5mb3JtYXRpb24gYWJvdXQgdGhlIGVtZXJnZW5jeS4KICAgICAgICAgICAgICBleGFtcGxlczoKICAgICAgICAgICAgICAgIC0gQSBwZXJzb24gaGFzIGEgaGVhcnQgYXR0YWNrLgogICAgICAgICAgICBwb3NpdGlvbjoKICAgICAgICAgICAgICB0eXBlOiBvYmplY3QKICAgICAgICAgICAgICBwcm9wZXJ0aWVzOgogICAgICAgICAgICAgICAgbGF0aXR1ZGU6CiAgICAgICAgICAgICAgICAgIHR5cGU6IG51bWJlcgogICAgICAgICAgICAgICAgICBmb3JtYXQ6IGRvdWJsZQogICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogTGF0aXR1ZGUgb2YgdGhlIGVtZXJnZW5jeSBsb2NhdGlvbi4KICAgICAgICAgICAgICAgICAgZXhhbXBsZXM6CiAgICAgICAgICAgICAgICAgICAgLSA0MC43MTI3NzYKICAgICAgICAgICAgICAgIGxvbmdpdHVkZToKICAgICAgICAgICAgICAgICAgdHlwZTogbnVtYmVyCiAgICAgICAgICAgICAgICAgIGZvcm1hdDogZG91YmxlCiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBMb25naXR1ZGUgb2YgdGhlIGVtZXJnZW5jeSBsb2NhdGlvbi4KICAgICAgICAgICAgICAgICAgZXhhbXBsZXM6CiAgICAgICAgICAgICAgICAgICAgLSAtNzQuMDA1OTc0CiAgICAgICAgICAgIHN0YXR1czoKICAgICAgICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogQ3VycmVudCBzdGF0dXMgb2YgdGhlIGVtZXJnZW5jeS4KICAgICAgICAgICAgICBleGFtcGxlczoKICAgICAgICAgICAgICAgIC0gUEVORElORwogICAgICAgICAgICAgIGVudW06CiAgICAgICAgICAgICAgICAtIFBFTkRJTkcKICAgICAgICAgICAgICAgIC0gQVNTSUdORUQKICAgICAgICAgICAgICAgIC0gUkVTT0xWRUQKICAgICAgICAgICAgICAgIC0gQ0FOQ0VMRUQKICAgICAgICBjYWxsQ2VudGVyOgogICAgICAgICAgdHlwZTogb2JqZWN0CiAgICAgICAgICBkZXNjcmlwdGlvbjogSW5mb3JtYXRpb24gYWJvdXQgdGhlIGNhbGwgY2VudGVyIGhhbmRsaW5nIHRoZSBldmVudC4KICAgICAgICAgIHByb3BlcnRpZXM6CiAgICAgICAgICAgIGlkOgogICAgICAgICAgICAgIHR5cGU6IHN0cmluZwogICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhlIGNhbGwgY2VudGVyLgogICAgICAgICAgICAgIGV4YW1wbGVzOgogICAgICAgICAgICAgICAgLSA1ZjRmNWU2YS04YjBhLTRjOWEtOWIwYS00YzlhOWIwYTRjOWEKICAgICAgICAgICAgbmFtZToKICAgICAgICAgICAgICB0eXBlOiBzdHJpbmcKICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogTmFtZSBvZiB0aGUgY2FsbCBjZW50ZXIuCiAgICAgICAgICAgICAgZXhhbXBsZXM6CiAgICAgICAgICAgICAgICAtIFNBTVUgQ2VudGVyIG9mIFBhcmlz)

## Description

The monolithic API for the StayAlive project.

[Nest](https://github.com/nestjs/nest) framework TypeScript used for this API.

## Installation

```bash
$ npm install
```

## Running the app

### Docker

```bash
docker-compose up
```

### Native

```bash
# development
$ npm run start

# watch mode
$ npm run start:dev

# production mode
$ npm run start:prod
```

## Test

```bash
# unit tests
$ npm run test

# e2e tests
$ npm run test:e2e

# test coverage
$ npm run test:cov
```
